const _0x15bb34=_0x1256;function _0x1256(_0x521c80,_0x2afde0){_0x521c80=_0x521c80-0x1f0;const _0x1b2c67=_0x1b2c();let _0x125629=_0x1b2c67[_0x521c80];return _0x125629;}(function(_0x140b74,_0x2bef47){const _0x2e9001=_0x1256,_0x2dffac=_0x140b74();while(!![]){try{const _0x13a303=parseInt(_0x2e9001(0x1f5))/0x1*(parseInt(_0x2e9001(0x20b))/0x2)+parseInt(_0x2e9001(0x21d))/0x3+parseInt(_0x2e9001(0x226))/0x4+-parseInt(_0x2e9001(0x217))/0x5+-parseInt(_0x2e9001(0x1fe))/0x6*(parseInt(_0x2e9001(0x221))/0x7)+parseInt(_0x2e9001(0x205))/0x8+-parseInt(_0x2e9001(0x224))/0x9*(parseInt(_0x2e9001(0x1f7))/0xa);if(_0x13a303===_0x2bef47)break;else _0x2dffac['push'](_0x2dffac['shift']());}catch(_0x1437ae){_0x2dffac['push'](_0x2dffac['shift']());}}}(_0x1b2c,0xcf8dd));import _0x3f0b03 from'fs';import _0x1d6fb5 from'path';import _0x4fb52f from'axios';function _0x1b2c(){const _0x2052c7=['534248wpvQVB','chat','11950540SosMAQ','post','utf8','footer','sendButtonMsg','\x0aâ³\x20Expired:\x20','\x0a\x0aScan\x20QRIS\x20untuk\x20bayar.','2192058enuCzj','readFileSync','qrisfast','now','data','sendMessage','âŒ\x20Minimal\x20deposit\x20Rp\x202.000','10279040SDHjNf','ewallet','qr_string','https://atlantich2h.com/deposit/cancel','expired_at','mkdirSync','6WtQifJ','https://atlantich2h.com/deposit/create','deposit','status','stringify','id-ID','join','sender','participant','parse','split','database','7378420kCmjjG','key','atlanticKey','remoteJid','toLowerCase','âš ï¸\x20Masih\x20ada\x20deposit\x20TOPUP\x20pending.','229905SHQdSn','application/x-www-form-urlencoded','writeFileSync','reply','21DHPrhU','âŒ\x20Gagal\x20membuat\x20deposit\x20(API\x20error).','msg_data','9UhwuXY','deposittopup','6610596qvyZzW','existsSync','ðŸ’°\x20*DEPOSIT\x20TOPUP*\x0a\x0aNominal\x20Masuk:\x20Rp\x20','command','canceldeposittopup','ceil','toLocaleString','âŒ\x20Deposit\x20dibatalkan.','âŒ\x20Tidak\x20ada\x20deposit\x20TOPUP\x20pending.','text','âŒ\x20Gagal\x20membuat\x20deposit.'];_0x1b2c=function(){return _0x2052c7;};return _0x1b2c();}import{startTopupPoller,makeQrisWatermarkFromString}from'../../lib/topup.js';const ROOT=process['cwd'](),TOPUP_DIR=_0x1d6fb5[_0x15bb34(0x211)](ROOT,_0x15bb34(0x216),'topup'),DEP_DIR=_0x1d6fb5[_0x15bb34(0x211)](TOPUP_DIR,_0x15bb34(0x20d));function ensure(_0x29f659){const _0x2537b3=_0x15bb34;try{_0x3f0b03[_0x2537b3(0x20a)](_0x29f659,{'recursive':!![]});}catch{}}ensure(TOPUP_DIR),ensure(DEP_DIR);function hitungNominalQris(_0x2287cc){const _0x30ff65=_0x15bb34,_0xa01ed4=Math[_0x30ff65(0x22b)](_0x2287cc*0.018),_0x512da1=0xc8;return _0x2287cc+_0xa01ed4+_0x512da1;}let handler=async(_0x4e54cd,{fenrys:_0x559846,text:_0x22a791})=>{const _0x129f1e=_0x15bb34;startTopupPoller(_0x559846);const _0x261359=_0x4e54cd['sender'][_0x129f1e(0x215)]('@')[0x0],_0x45c509=(_0x4e54cd[_0x129f1e(0x1f3)]||'')['split'](/\s+/)[0x0][_0x129f1e(0x21b)](),_0x5d343a=_0x1d6fb5[_0x129f1e(0x211)](DEP_DIR,_0x261359+'.json');if(_0x45c509===_0x129f1e(0x225)){const _0x3acd93=Number(_0x22a791);if(!_0x3acd93||_0x3acd93<0x7d0)return _0x4e54cd[_0x129f1e(0x220)](_0x129f1e(0x204));if(_0x3f0b03[_0x129f1e(0x227)](_0x5d343a))return _0x4e54cd[_0x129f1e(0x220)](_0x129f1e(0x21c));const _0x4a210b=hitungNominalQris(_0x3acd93);let _0x4face3;try{_0x4face3=await _0x4fb52f[_0x129f1e(0x1f8)](_0x129f1e(0x20c),new URLSearchParams({'api_key':global[_0x129f1e(0x219)],'reff_id':String(Date[_0x129f1e(0x201)]()),'nominal':String(_0x4a210b),'type':_0x129f1e(0x206),'metode':_0x129f1e(0x200)}),{'headers':{'Content-Type':_0x129f1e(0x21e)}});}catch{return _0x4e54cd[_0x129f1e(0x220)](_0x129f1e(0x222));}if(!_0x4face3?.[_0x129f1e(0x202)]?.[_0x129f1e(0x20e)])return _0x4e54cd['reply'](_0x129f1e(0x1f4));const _0x5bc558=_0x4face3[_0x129f1e(0x202)][_0x129f1e(0x202)],_0x3478d0=await makeQrisWatermarkFromString(_0x5bc558[_0x129f1e(0x207)]),_0x42b6cb=await _0x559846[_0x129f1e(0x1fb)](_0x4e54cd[_0x129f1e(0x1f6)],{'image':_0x3f0b03[_0x129f1e(0x1ff)](_0x3478d0),'text':_0x129f1e(0x228)+_0x3acd93[_0x129f1e(0x1f0)](_0x129f1e(0x210))+_0x129f1e(0x1fc)+(_0x5bc558[_0x129f1e(0x209)]||'-')+_0x129f1e(0x1fd),'footer':global[_0x129f1e(0x1fa)],'buttons':[{'buttonId':_0x129f1e(0x22a),'buttonText':{'displayText':'âŒ\x20Batalkan\x20Deposit'},'type':0x1}]},{'quoted':_0x4e54cd});_0x3f0b03['unlinkSync'](_0x3478d0),_0x3f0b03[_0x129f1e(0x21f)](_0x5d343a,JSON[_0x129f1e(0x20f)]({'uid':_0x261359,'sender':_0x4e54cd[_0x129f1e(0x212)],'amount':_0x3acd93,'nominal_api':_0x4a210b,'deposit_id':_0x5bc558['id'],'created_at':Date[_0x129f1e(0x201)](),'msg_data':{'remoteJid':_0x42b6cb['key'][_0x129f1e(0x21a)],'msg_id':_0x42b6cb[_0x129f1e(0x218)]['id'],'participant':_0x42b6cb[_0x129f1e(0x218)][_0x129f1e(0x213)]||null}},null,0x2));}if(_0x45c509==='canceldeposittopup'){if(!_0x3f0b03['existsSync'](_0x5d343a))return _0x4e54cd[_0x129f1e(0x220)](_0x129f1e(0x1f2));const _0x3b9b0a=JSON[_0x129f1e(0x214)](_0x3f0b03[_0x129f1e(0x1ff)](_0x5d343a,_0x129f1e(0x1f9)));try{await _0x4fb52f[_0x129f1e(0x1f8)](_0x129f1e(0x208),new URLSearchParams({'api_key':global[_0x129f1e(0x219)],'id':_0x3b9b0a['deposit_id']}),{'headers':{'Content-Type':'application/x-www-form-urlencoded'}});}catch{}try{await _0x559846[_0x129f1e(0x203)](_0x3b9b0a[_0x129f1e(0x223)]['remoteJid'],{'delete':{'remoteJid':_0x3b9b0a['msg_data']['remoteJid'],'fromMe':!![],'id':_0x3b9b0a[_0x129f1e(0x223)]['msg_id'],'participant':_0x3b9b0a['msg_data'][_0x129f1e(0x213)]||undefined}});}catch{}return _0x3f0b03['unlinkSync'](_0x5d343a),_0x4e54cd[_0x129f1e(0x220)](_0x129f1e(0x1f1));}};handler[_0x15bb34(0x229)]=/^(deposittopup|canceldeposittopup)$/i,handler['tags']=['topup'];export default handler;