const _0xa26646=_0x4010;(function(_0x4cb2d1,_0x235a3a){const _0x14aadf=_0x4010,_0x12def7=_0x4cb2d1();while(!![]){try{const _0x58317c=-parseInt(_0x14aadf(0x1ab))/0x1+-parseInt(_0x14aadf(0x1cc))/0x2*(-parseInt(_0x14aadf(0x1b8))/0x3)+-parseInt(_0x14aadf(0x1d2))/0x4*(parseInt(_0x14aadf(0x1ac))/0x5)+parseInt(_0x14aadf(0x1c3))/0x6*(parseInt(_0x14aadf(0x1b6))/0x7)+parseInt(_0x14aadf(0x1be))/0x8*(-parseInt(_0x14aadf(0x1c6))/0x9)+parseInt(_0x14aadf(0x1c1))/0xa*(-parseInt(_0x14aadf(0x1db))/0xb)+parseInt(_0x14aadf(0x1c0))/0xc*(parseInt(_0x14aadf(0x1ca))/0xd);if(_0x58317c===_0x235a3a)break;else _0x12def7['push'](_0x12def7['shift']());}catch(_0x3bbf1c){_0x12def7['push'](_0x12def7['shift']());}}}(_0x5af5,0xac8d4));function _0x4010(_0x32202a,_0x14eb81){_0x32202a=_0x32202a-0x1ab;const _0x5af521=_0x5af5();let _0x401064=_0x5af521[_0x32202a];return _0x401064;}import _0x588ed4 from'fs';import _0x3b2232 from'path';import _0x290bc1 from'axios';import{makeQrisWatermark,startNokosPoller}from'../../lib/nokos.js';const DEP_DIR=_0x3b2232[_0xa26646(0x1b0)](process['cwd'](),'database',_0xa26646(0x1d6));function ensure(_0x510ad3){const _0x5d937a=_0xa26646;try{_0x588ed4[_0x5d937a(0x1cd)](_0x510ad3,{'recursive':!![]});}catch{}}ensure(DEP_DIR);let handler=async(_0x3ef297,{fenrys:_0x57bed7,text:_0x542ee3})=>{const _0x4e3d7e=_0xa26646;startNokosPoller(_0x57bed7);const _0x308378=_0x3ef297[_0x4e3d7e(0x1d9)][_0x4e3d7e(0x1bb)]('@')[0x0],_0x38f197=_0x3ef297['sender'],_0x54100b=(_0x3ef297[_0x4e3d7e(0x1d1)]||'')['split'](/\s+/)[0x0]['toLowerCase'](),_0x4a5f08=_0x3b2232[_0x4e3d7e(0x1b0)](DEP_DIR,_0x308378+'.json');if(_0x54100b==='canceldepositnokos'){if(!_0x588ed4[_0x4e3d7e(0x1af)](_0x4a5f08))return _0x3ef297[_0x4e3d7e(0x1b7)](_0x4e3d7e(0x1d4));const _0xba73b6=JSON[_0x4e3d7e(0x1bc)](_0x588ed4['readFileSync'](_0x4a5f08,'utf8'));try{await _0x290bc1[_0x4e3d7e(0x1b1)](_0x4e3d7e(0x1d8)+_0xba73b6[_0x4e3d7e(0x1cb)],{'headers':{'x-apikey':global[_0x4e3d7e(0x1d0)]}});}catch{}return _0xba73b6[_0x4e3d7e(0x1bd)]?.[_0x4e3d7e(0x1ad)]&&await _0x57bed7[_0x4e3d7e(0x1d5)](_0xba73b6[_0x4e3d7e(0x1bd)][_0x4e3d7e(0x1bf)],{'delete':{'remoteJid':_0xba73b6['msg_data'][_0x4e3d7e(0x1bf)],'fromMe':!![],'id':_0xba73b6['msg_data']['msg_id'],'participant':_0xba73b6[_0x4e3d7e(0x1bd)][_0x4e3d7e(0x1d3)]}})['catch'](()=>{}),_0x588ed4[_0x4e3d7e(0x1c7)](_0x4a5f08),_0x3ef297[_0x4e3d7e(0x1b7)]('‚ùå\x20Deposit\x20NOKOS\x20dibatalkan.');}if(_0x54100b===_0x4e3d7e(0x1b9)){const _0x59e1b4=Number(_0x542ee3);if(!_0x59e1b4||_0x59e1b4<0x7d0)return _0x3ef297['reply'](_0x4e3d7e(0x1cf));if(_0x588ed4[_0x4e3d7e(0x1af)](_0x4a5f08))return _0x3ef297['reply']('‚ö†Ô∏è\x20Kamu\x20masih\x20punya\x20deposit\x20NOKOS\x20pending.');const _0xf0182f=await _0x290bc1[_0x4e3d7e(0x1b1)](_0x4e3d7e(0x1b3)+_0x59e1b4+'&payment_id=qris',{'headers':{'x-apikey':global['rumahOtpKey']}})[_0x4e3d7e(0x1c4)](()=>null);if(!_0xf0182f?.['data']?.['success'])return _0x3ef297[_0x4e3d7e(0x1b7)](_0x4e3d7e(0x1c5));const _0xb6903f=_0xf0182f['data'][_0x4e3d7e(0x1b4)],_0x422492=await makeQrisWatermark(_0xb6903f[_0x4e3d7e(0x1dc)]),_0x20eb2f=await _0x57bed7['sendButtonMsg'](_0x3ef297[_0x4e3d7e(0x1c2)],{'image':_0x588ed4['readFileSync'](_0x422492),'text':_0x4e3d7e(0x1da)+_0x59e1b4+_0x4e3d7e(0x1c9)+_0xb6903f[_0x4e3d7e(0x1ba)]+'\x0a\x0a‚è≥\x20Expired:\x0a'+new Date(_0xb6903f[_0x4e3d7e(0x1d7)])['toLocaleString']()+'\x0a\x0aScan\x20QRIS\x20untuk\x20bayar.','footer':global['footer'],'buttons':[{'buttonId':_0x4e3d7e(0x1ae),'buttonText':{'displayText':'‚ùå\x20Cancel\x20Deposit\x20NOKOS'},'type':0x1}]},{'quoted':_0x3ef297});_0x588ed4[_0x4e3d7e(0x1c7)](_0x422492),_0x588ed4['writeFileSync'](_0x4a5f08,JSON[_0x4e3d7e(0x1ce)]({'uid':_0x308378,'sender':_0x38f197,'deposit_id':_0xb6903f['id'],'amount':_0x59e1b4,'expired_ts':_0xb6903f[_0x4e3d7e(0x1d7)],'msg_data':{'msg_id':_0x20eb2f['key']['id'],'remoteJid':_0x20eb2f[_0x4e3d7e(0x1c8)][_0x4e3d7e(0x1bf)],'participant':_0x20eb2f[_0x4e3d7e(0x1c8)]['participant']||null}},null,0x2));}};handler['command']=/^(depositnokos|canceldepositnokos)$/i,handler[_0xa26646(0x1b2)]=[_0xa26646(0x1b5)];function _0x5af5(){const _0x1cba42=['10HXxMhs','msg_id','canceldepositnokos','existsSync','join','get','tags','https://www.rumahotp.com/api/v2/deposit/create?amount=','data','nokos','21DjqPVO','reply','1452909HkmLxw','depositnokos','total','split','parse','msg_data','19248iVRDke','remoteJid','8340pArqlB','4472830miyMuV','chat','2107086thFdhV','catch','‚ùå\x20Gagal\x20membuat\x20deposit\x20NOKOS.','585ZaGrrf','unlinkSync','key','\x0aTotal\x20Bayar:\x20Rp\x20','37531xDGXVx','deposit_id','2rdJwiJ','mkdirSync','stringify','‚ùå\x20Minimal\x20deposit\x20Rp\x202.000','rumahOtpKey','text','612104yAzgay','participant','‚ùå\x20Tidak\x20ada\x20deposit\x20NOKOS\x20pending.','sendMessage','deposit','expired_at_ts','https://www.rumahotp.com/api/v2/deposit/cancel?deposit_id=','sender','üí∞\x20*DEPOSIT\x20NOKOS\x20PENDING*\x0aNominal:\x20Rp\x20','33amOmoP','qr_image','1033248EIhDcc'];_0x5af5=function(){return _0x1cba42;};return _0x5af5();}export default handler;